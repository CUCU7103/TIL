# 프로세스와 스레드

![image](https://github.com/user-attachments/assets/096f942f-a4d4-404e-8a27-333101f56f45)

## 프로세스
- 프로그램은 실제 실행하기 전까지는 단순한 파일에 불과합니다.
- 프로그램을 실행하면 프로세스가 만들어지고 프로그램이 실행되어집니다.
- 운영체제 안에서 **실행중인 프로그램을 프로세스라고 합니다.**
- 프로세스는 실행 중인 프로그램의 **인스턴스** 입니다

프로세스는 독립적인 메모리 공간을 갖고 있으며, 운영체제에서 별도의 작업 단위로 분리해서 관리되어집니다.
프로세스는 이렇듯 서로 격리되어 관리되기 때문에, 하나의 프로세스가 충돌해도 다른 프로세스에는 영향을 미치지 않습니다.

## 프로세스의 메모리 구성

- 코드 섹션 : 실행할 프로그램의 코드가 저장되는 부분
- 데이터 섹션 : 전역 변수 및 정적 변수가 저장되는 부분
- 힙 : 동적으로 할당되는 메모리 영역
- 스택 : 메서드 호출 시 생성되는 지역 변수와 반환 주소가 저장되는 영역(스레드에 포함)


## 스레드
- 프로세스는 하나 이상의 스레드를 반드시 포함합니다.
- 스레드는 프로세스 내에서 실행되어지는 작업의 단위이다.
- 한 프로세스 내에서 여러 스레드가 존재할 수 있으며, 이들은 프로세스가 제공하는 동일한 메모리 공간을 소유한다.

## 스레드의 메모리 구성

- 공유 메모리 : 같은 프로세스의 코드섹션 데이터 섹션 힙은 프로세스안의 모든 스레드가 공유합니다.
- 개별 스택 : 각 스레드는 자신의 스택을 가지고 있다.

## 프로그램이 실행된다는 것의 의미
 - 프로그램이 실행된다는 것은 프로세스 안의 코드가 한 줄씩 실행되는 것입니다.
 - 코드는 보통 `main()` 부터 시작해서 하나씩 순서대로 내려가면서 실행되어집니다.
```
public class Operator {
    public static void main(String[] args) { int sum1 = 1;
        int sum2 = sum1 + 1;
        System.out.println("sum1 = " + sum1);
        System.out.println("sum2 = " + sum2);
    }
}
```
 - 이때 코드를 실행해 주는 무언가가 있기에 프로그램이 작동을 합니다.
 - 이렇게 코드를 하나씩 실행해 나가는 흐름을 스레드라고 합니다.

스레드는 프로세스 내애서 실행되는 작업의 단위이며, 한 프로세스 내에 하나의 스레드가 존재해야하고, 한 프로세스 내에 여러 스레드가 존재할 수 있습니다.
그리고 스레드는 프로세스가 제공하는 동일한 메모리 공간을 공유합니다.

- 단일 스레드 : 프로세스 내에 스레드가 하나만 존재
- 멀티 스레드 : 프로세슨 내에 여러 스레드가 존재

**하나의 프로세스 안에는 최소 하나의 스레드가 존재해야합니다** 그래야 프로그램이 동작합니다.

정리하면 프로세스는 실행 환경과 자원을 제공하는 컨테이너 역할을 하고, 스레드는 CPU를 사용해서 코드를 하나하나 실행합니다.

멀티 스레드가 필요한 이유
- 하나의 프로그램도 그 안에서 동시에 여러 작업이 필요합니다.
  예시
  - 워드 프로그램으로 문서를 편집함년서 문서가 저장되고, 맞춤범 검사도 수행됩니다.

운영제체 관점에서 보면 다음과 같이 구분할 수 있다.
 
**워드 프로그램 - 프로세스A**
  스레드1: 문서 편집 
  스레드2: 자동 저장 
  스레드3: 맞춤법 검사







