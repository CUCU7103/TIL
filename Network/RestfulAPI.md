> [!NOTE]
>
> ## API란 무엇인가요?
>
> - API(애플리케이션 프로그래밍 인터페이스)는 소프트웨어 애플리케이션이 서로 통신하여 데이터, 특징 및 기능을 교환할 수 있도록 하는 일련의 규칙 또는 프로토콜입니다.
> - API를 사용하면 필요한 정보만 공유할 수 있고 다른 내부 시스템 세부 정보는 숨길 수 있으므로 시스템 보안에 도움이 됩니다. 
> - 서버 또는 디바이스는 데이터를 완전히 노출할 필요가 없으며, API를 사용하면 특정 요청과 관련된 작은 데이터 패킷을 공유할 수 있습니다.

# REST 란?

- ### REST(Representational State Transfer)의 약자로 자원을 이름으로 구분하여 해당 자원의 상태를 주고받는 모든 것을 의미합니다.

- ### 좀 더 풀어서 보자면.

  - HTTP URI(Uniform Resource Identifier)를 통해 자원(Resource)을 명시하고,
  - HTTP Method(POST, GET, PUT, DELETE, PATCH 등)를 통해
  - 해당 자원(URI)에 대한 CRUD Operation을 적용하는 것을 의미합니다.

> ## **CRUD Operation**
>
> CRUD는 대부분의 컴퓨터 소프트웨어가 가지는 기본적인 데이터 처리 기능인 Create(생성), Read(읽기), Update(갱신), Delete(삭제)를 묶어서 일컫는 말로 REST에서의 CRUD Operation 동작 예시는 다음과 같다.
>
> - Create : 데이터 생성(POST)
> - Read : 데이터 조회(GET)
> - Update : 데이터 수정(PUT, PATCH)
> - Delete : 데이터 삭제(DELETE)



## **REST 구성 요소**

REST는 다음과 같은 3가지로 구성이 되어있습니다.

1. **자원(Resource) : HTTP URI**

2. **자원에 대한 행위(Verb) : HTTP Method**

3. **자원에 대한 행위의 내용 (Representations) : HTTP Message Pay Load**

   

## **REST의 특징**

1. Server-Client(서버-클라이언트 구조)
2. Stateless(무상태)
3. Cacheable(캐시 처리 가능)
4. Layered System(계층화)
5. Uniform Interface(인터페이스 일관성)



## REST 설계 원칙

- 가장 기본적인 수준에서 API는 애플리케이션이나 서비스가 다른 애플리케이션이나 서비스 내의 리소스에 액세스할 수 있도록 하는 메커니즘입니다. 

- 리소스에 액세스하는 애플리케이션이나 서비스가 클라이언트이고 리소스를 포함하는 애플리케이션이나 서비스는 서버입니다. 

- SOAP 또는 XML-RPC와 같은 일부 API는 개발자에게 엄격한 프레임워크를 적용합니다. 

- 그러나 개발자는 거의 모든 프로그래밍 언어를 사용하여 REST API를 개발할 수 있으며 다양한 데이터 형식을 지원합니다. 

- 유일한 요구 사항은 *아키텍처 제약 조건*이라고도 하는 다음 6가지 REST 설계 원칙을 준수해야 한다는 것입니다

  

1. #### 균일한 인터페이스

   - 동일한 리소스에 대한 모든 API 요청은 요청의 출처에 관계없이 동일하게 표시되어야 합니다. 
   - REST API는 사용자의 이름 또는 이메일 주소와 같은 동일한 데이터가 하나의 통합 리소스 식별자(URI)에만 속하도록 해야 합니다. 
   - 리소스가 너무 커서는 안 되며 클라이언트가 필요로 할 수 있는 모든 정보를 포함해야 합니다. 

   ---

   

   ### 즉 모든 API 요청이 동일한 방식으로 이루어져야 한다는 원칙입니다.

   **예시:**

   - **사용자 정보 가져오기 (GET 요청)**

     ```
     bash
     
     
     코드 복사
     GET /users/123
     ```

     - **설명:** 사용자 ID가 123인 사용자의 정보를 가져옵니다.

       

   - **사용자 정보 업데이트 (PUT 요청)**

     ```
     bash코드 복사PUT /users/123
     Content-Type: application/json
     
     {
       "name": "홍길동",
       "email": "hong@example.com"
     }
     ```

     - **설명:** 사용자 ID가 123인 사용자의 이름과 이메일을 업데이트합니다.

       

   - **사용자 생성 (POST 요청)**

     ```
     bash코드 복사POST /users
     Content-Type: application/json
     
     {
       "name": "김철수",
       "email": "kim@example.com"
     }
     ```

     - **설명:** 새로운 사용자를 생성합니다



2. #### **<u>클라이언트-서버 분리</u>**

   - #### REST API 설계에서 클라이언트 및 서버 애플리케이션은 서로 완전히 독립적이어야 합니다. 

     - **클라이언트(사용자 인터페이스)와 서버(데이터 저장 및 처리)가 독립적으로 동작해야 한다는 원칙입니다.**

   - 클라이언트 애플리케이션이 알아야 하는 유일한 정보는 요청된 리소스의 URI입니다. 

   - 서버 애플리케이션과 다른 방법으로 통신할 수 없습니다. 

   - 마찬가지로 서버 애플리케이션은 HTTP를 통해 요청된 데이터에 클라이언트 애플리케이션을 전달하는 것 외에는 클라이언트 애플리케이션을 수정해서는 안 됩니다.

3. #### **무상태**

   - REST API는 무상태성이기 때문에 각 요청에는 처리에 필요한 모든 정보가 포함되어야 합니다. 
   - 즉, REST API에는 서버 측 세션이 필요하지 않다는 의미입니다. 
   - 서버 애플리케이션은 클라이언트 요청과 관련된 데이터를 저장할 수 없습니다.

4. #### **캐시 가능성**

   - 가능한 경우 클라이언트나 서버 측에서 리소스를 캐시할 수 있어야 합니다. 
   - 서버 응답에는 전달된 리소스에 대해 캐싱이 허용되는지 여부에 대한 정보도 포함되어야 합니다. 
   - 목표는 클라이언트 측의 성능을 향상시키는 동시에 서버 측의 확장성을 높이는 것입니다.

5. #### 계층화된 시스템 아키텍처

   - REST API에서는 호출과 응답이 서로 다른 계층을 거칩니다. 
   - 일반적으로 클라이언트와 서버 애플리케이션이 서로 직접 연결된다고 가정하지 않습니다. 통신 루프에는 다양한 중개자가 있을 수 있습니다. 
   - REST API는 클라이언트나 서버가 최종 애플리케이션과 통신하는지 중개자와 통신하는지 알 수 없도록 설계해야 합니다.

6. #### **코드 온디맨드(선택 사항)**

   - REST API는 일반적으로 정적 리소스를 전송하지만 경우에 따라 응답에 실행 코드(예: Java 애플릿)가 포함될 수도 있습니다. 
   - 이러한 경우 코드는 온디맨드 방식으로만 실행되어야 합니다.

# RESTful- API

- **REST([Representational State Transfer](https://www.ibm.com/kr-ko/topics/api)) 아키텍처 스타일의 설계 원칙을 준수하는 *API(**애플리케이션프로그래밍 인터페이스)*입니다. 



### REST API 설계 예시

**1. URI는 동사보다는 명사를, 대문자보다는 소문자를 사용하여야 한다.**

- RESTful 설계에서는 리소스를 나타내기 위해 명사를 사용하는 것이 권장됩니다. 
- 예를 들어, `/users`는 사용자 리소스를 나타내며, 동사보다는 리소스의 상태나 컬렉션을 표현하는 데 적합합니다. 
- 또한, URI는 대소문자를 구분하므로, 일관성을 유지하고 가독성을 높이기 위해 소문자를 사용하는 것이 좋습니다.

**2. 마지막에 슬래시 (/)를 포함하지 않는다.**

- 일반적으로 URI 끝에 슬래시를 포함하지 않는 것이 일관성을 유지하는 데 도움이 됩니다. 
- 예를 들어, `/users`와 `/users/`는 일부 서버에서 다른 리소스로 인식될 수 있기 때문에 일관된 형태를 유지하는 것이 중요합니다. 
- 그러나 특정 프레임워크나 시스템에서는 슬래시의 유무에 따라 다르게 동작할 수 있으므로, 프로젝트의 요구사항에 맞게 설정하는 것이 필요합니다.

**3. 언더바 대신 하이폰을 사용한다.**

- URI에서 단어를 구분할 때 하이폰(`-`)을 사용하는 것이 언더바(`_`)보다 가독성이 높고, 검색 엔진 최적화(SEO) 측면에서도 유리합니다. 
- 예를 들어, `/user-profile`은 `/user_profile`보다 읽기 쉽습니다.

 **4. 파일확장자는 URI에 포함하지 않는다.**

- RESTful API에서는 리소스의 표현 형식을 헤더(`Content-Type`)를 통해 지정하는 것이 일반적입니다. 
- URI에 파일 확장자를 포함하지 않음으로써 API의 유연성과 유지보수성을 높일 수 있습니다. 
- 예를 들어, `/users`에 접근할 때 요청 헤더를 통해 JSON 또는 XML 형식을 지정할 수 있습니다.

**5. 행위를 포함하지 않는다.**

- RESTful 설계에서는 HTTP 메서드(GET, POST, PUT, DELETE 등)를 사용하여 행위를 정의하고, URI는 리소스를 나타내는 데 집중합니다. 
- 따라서 URI에 행위(동사)를 포함하지 않는 것이 좋습니다.
  -  예를 들어, `POST /createUser` 대신 `POST /users`를 사용하는 것이 RESTful 설계에 부합합니다.



