# LSP-리스코프 치환 원칙

- 서브 타입은 언제나 자신의 기반 타입으로 교체할 수 있어야 합니다.

객체 지향에서의 상속은 조직도나 계층도가 아닌, 분류도가 되어야 합니다.

객체 지향의 상속은 다음의 조건을 만족해야 합니다.

- 하위 클래스 is a kind of 상위 클래스
  - 하위 분류는 상위 분류의 한 종류이다.
- 구현 클래스 is able to 인터페이스
  - 구현 분류는 인터페이스할 수 있어야 한다.

위의 문장대로 구현된 클래스라면 이미 리스코프 치환 원칙을 잘 지키고 있다고 말할 수 있습니다.

하지만 위 문장대로 구현되지 않은 코드가 존재할 수 있는데 바로 상속이 조직도나 계층도로 구성된 경우 입니다.



``` java
아버지 춘향이 = new 딸();
```

- 아버지를 상위 클래스로 하는 딸이라는 하위 클래스가 있다고 하면, 이는 바로 전형적인 계층도 형태이며, 객체 지향의 상속을 잘못 적용한 경우입니다.
  - 상위 클래스의 객체 참조 변수에는 하위 클래스의 인스턴스를 할당할 수있습니다.
  - 딸을 하나 낳아서 이름을 춘향이라고 한 것 까지는 좋은데 아빠의 역할을 맡기고 있습니다.
  - 춘향이는 아버지형 객체참조 변수이기에 아버지 객체가 가진 행위를 할 수있어야 합니다.
  - 이는 논리적으로 말이 안되는 행위입니다.



``` java
동물 뽀로로 = new 펭귄();
```

- 분류도 형태를 보면 논리적인 흠을 찾아볼 수가 없습니다.



그렇기에 리스코프 원칙을 다시 정리해 보자면

- 하위 클래스의 인스턴스는 상위형 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는데 문제가 없어야 합니다.



- 리스코프 치환 원칙을 위반한 사례

![image-20250103234708438](https://raw.githubusercontent.com/CUCU7103/save-image-repo/main/image/image-20250103234708438.png)



- 리스코프 치환 원칙 적용 사례

![image-20250103234714429](https://raw.githubusercontent.com/CUCU7103/save-image-repo/main/image/image-20250103234714429.png)

- 분류도인 경우 하위에 존재하는 것들은 상위에 있는 것들의 역할을 하는데 전혀 문제가 없습니다.
- 고래가 포유류 또는 동물의 역할을 하는 것은 전혀 문제가 되지 않습니다.



