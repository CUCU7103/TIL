# 히스토리 테이블 : 하나의 통합 테이블 vs 테이블마다 개별 테이블



## 히스토리 테이블을 통합 테이블로 관리하는 경우

### 장점 

#### 1. 관리가 단순합니다.

- 히스토리 테이블이 통합된 테이블 하나이므로 테이블을 관리, 유지보수하기가 용이합니다.

#### 2. 공통구조

- 모든 테이블의 변경 이력을 동일한 구조로 저장할 수 있어서 일관성이 있습니다.

#### 3. 확장성 

- 새로운 테이블이 추가되더라도 통합 테이블로 관리하므로 확장이 용이합니다.



### 단점

#### 1. 복잡한 쿼리

- 특정 테이블의 이력을 조회하기 위해서는 필터링 조건을 추가해야 하므로 쿼리가 복잡해 질 수 있습니다.

#### 2. 스키마의 유연성 부족

- 서로 다른 테이블의 스키마를 하나의 히스토리 테이블에 통합하기 위해 공통 컬럼 외에 JSON 같은 유연한 데이터 형식을 사용해야 할 수 있어, 데이터 무결성 유지가 어려울 수 있습니다



## 히스토리 테이블을 개별  테이블로 관리하는 경우

### 장점

#### 1. 성능 최적화

- 각 히스토리 테이블이 독립적이므로 조회 성능이 통합 테이블 보다 우수합니다.

#### 2. 스키마 일치

- 해당하는 기본 테이블의 스키마를 그대로 반영하므로 데이터 무결성을 쉽게 유지할 수있습니다.

#### 3. 간단한 쿼리

- 특정 이력을 조회할 때 기본 테이블의 통합 테이블로 조회하는 것보다 훨씬 간단한 쿼리로 접근할 수 있습니다.

  

#### 단점

#### 1. 관리의 어려움

- 각 테이블 마다 히스토리 테이블을 생성해야 되기 때문에 테이블의 수가 증가하면 관리가 복잡해 집니다.

#### 2. 일관성을 유지하기 어렵습니다.

- 여러 히스토리 테이블간 일관성을 유지하기 위해서 통합 테이블에 비해 많은 노력이 필요합니다.



두 개의 방식 모두 장단점이 뚜렸합니다. 

그래서 저는 스키마가 복잡하고 히스토리를 엄격하게 관리해야하는 테이블 예를 들면 ''결제 테이블'' 에는 개별적인 히스토리 테이블을 두어서 히스토리를 관리하고, 

히스토리의 중요성이 조금 떨어지는 테이블의 경우, 스키마의 복잡도가 낮은 테이블의 경우 (게시글 , 댓글 테이블)에는 통합 테이블을 사용하여 확장이 용이하도록 사용할 것같습니다.







