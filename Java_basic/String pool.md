# String pool

- String의 객체 생성법은 크게 두 가지로 나뉩니다.
- 문자열 리터럴(literal) 방식과 new 키워드 방식입니다.

```
String str1 = "Hello, World!";
String str2 = new String("Hello, World!");
```
**문자열 리터럴 방식이 더 효율적이고 일반적으로 사용됩니다.** 

실제로 코딩하면서 생성자를 사용하여 String을 type을 다룬적은 거의 없었고 문자열 리터럴 방식이 좀 더 직관적이라고 볼 수 있습니다.
그렇다면 문자열 리터럴 방식의 장점은 직관적인 것 뿐일까요?

아닙니다. 메모리 부분에서도 효율성이 있습니다.

리터럴 방식으로 생성된 String은 문자열 풀이라는 특별한 힙 메모리 영역에 위치되어집니다.
자바의 **String pool은 문자열을 효율적으로 관리하기 위해 jvm이 제공하는 특별한 메모리 영역**입니다.
해당 메모리 영역은 heap에 위치해 있고, **동일한 값을 가진 문자열이 중복되어 저장되는 것을 방지하고 메모리 사용을 최적화 하는 역할을 합니다.**

![image](https://github.com/user-attachments/assets/258a576a-7ee9-4001-a2eb-183c8914af16)

리터럴 방식은 "Park" 와 같은 문자열 리터럴이 코드에 등장하면 jvm은 먼저 String pool에서 동일한 값이 있는지 찾아봅니다.
**동일한 문자열이 존재한다면 그 문자열의 주소를 반환하고 새로운 객체를 생성하지 않습니다** 이것이 new (생성자)로 문자열을 생성하는 것과의 가장 큰 차이점입니다. 
물론 객체가 존재하지 않는다면 새로운 객체를 생성합니다.
new 방식은 String pool을 무시하고 항상 새로운 String 객체를 선언합니다. 해당 객체는 Heap 메모리에 생성되어지며 String pool에 있는 동일한 값의 문자열과는 다른 객체가 됩니다

리터럴 방식은 동일한 문자열이 존재하면 객체를 생성하지 않기에 new 방식보다 메모리를 효율적으로 사용할 수 있습니다.
그래서 리터럴 방식이 new 방식보다 더 효율적이라는 것입니다.


