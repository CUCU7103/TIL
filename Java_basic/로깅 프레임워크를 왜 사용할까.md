

---

# 로깅 프레임워크를 왜 사용할까?

> [!TIP]
>
> ### 로깅
>
> - **시스템이 정보를 기록하는 '로그'를 생성하도록 작성하는 활동**
> - **개발이나 운영 중 발생하는 문제점을 모니터링하거나 추적하는 데 용이하다**

---

### System.out.println() 대신 로깅 프레임워크를 사용해야 하는 이유

#### 1. 다양한 로그 레벨 제공

- System.out.println()은 단순한 출력만 가능하지만, **로깅 프레임워크는 TRACE, DEBUG, INFO, WARN, ERROR 등 다양한 로그 레벨을 제공**합니다.
- 로그 메시지의 중요도에 따라 구분할 수 있고, 설정을 통해 특정 레벨 이상의 로그만 출력하거나 기록할 수 있습니다.
- 예를 들어, 개발 중에는 DEBUG 로그를 많이 사용하지만, 운영 환경에서는 INFO 또는 ERROR 수준의 로그만 기록하게 설정할 수 있습니다.

> [!TIP]
>
> ### **로그 레벨**
>
> - **로그 레벨은 로깅 시스템의 설정을 통해 지정하며, 설정된 로그 레벨 이상의 중요도를 가진 로그 메시지만 기록됩니다.**
>
> **1) TRACE**  
> 가장 상세한 로그로, 실행 흐름과 디버깅 정보를 기록합니다. 주로 디버깅 시 사용합니다.
>
> **2) DEBUG**  
> 디버깅 목적으로 사용되며, 개발 단계에서 상세한 정보를 기록합니다. 내부 동작 분석에 유용합니다.
>
> **3) INFO**  
> 정보성 메시지로, 주요 이벤트나 상태 정보를 전달합니다.
>
> **4) WARN**  
> 경고 메시지로, 예상치 못한 문제나 잠재적 오류 상황을 알립니다. 애플리케이션은 정상 동작하지만 주의가 필요합니다.
>
> **5) ERROR**  
> 오류 메시지로, 심각한 문제나 예외 상황을 나타냅니다. 정상 동작에 영향을 줄 수 있습니다.
>
> **6) FATAL**  
> 가장 심각한 오류 메시지로, 애플리케이션 동작을 중단시킬 수 있습니다. 일반적으로 복구가 매우 어렵거나 불가능한 상황입니다.

---

#### 2. 로그 출력 위치 지정 가능

- System.out.println()은 콘솔에만 출력하지만, 로깅 프레임워크는 콘솔, 파일, 원격 서버 등 다양한 출력 대상을 지원합니다.

#### 3. 성능 최적화

- System.out.println()은 콘솔 출력 시 블로킹 I/O를 사용해 성능 저하를 유발할 수 있습니다.
- 로깅 프레임워크는 버퍼링, 비동기 로깅 등 성능 저하를 최소화하는 기능을 제공합니다.
- 필요하지 않은 로그 레벨은 출력하지 않도록 설정할 수 있어 불필요한 성능 비용을 줄일 수 있습니다.

#### 4. 커스터마이징 가능

- 로그 메시지에 타임스탬프, 스레드 정보, 클래스/메소드명 등 다양한 부가 정보를 추가할 수 있어 로그의 가독성과 분석 효율이 높아집니다.

---

### 로깅 프레임워크의 종류

자바에서 대표적으로 사용하는 로깅 프레임워크에는 Log4j, Logback, Log4j2가 있습니다.

#### Log4j

- Apache의 Java 기반 로깅 프레임워크입니다.
- 2015년 이후로 개발이 중단되었습니다.
- 콘솔 및 파일 출력, XML/properties로 환경 구성 가능.

#### Logback

- Log4j의 아키텍처를 기반으로 재작성된 Java 로깅 프레임워크입니다.
- Log4j보다 약 10배 빠르고, 메모리 사용량이 더 적습니다.

#### Log4j2

- Log4j의 업그레이드 버전으로, Logback의 일부 한계를 개선했습니다.
- 멀티스레드 환경에서 비동기 로거를 사용할 경우 Log4j 1.x 및 Logback보다 훨씬 높은 처리량과 낮은 지연 시간을 제공합니다.
- 메시지 로깅과 람다 표현식을 지원합니다.
- 기본적으로 GC-free 모드에서 동작해 객체/버퍼 재사용 및 임시 객체 최소화를 통해 성능을 향상시킵니다.

> **로깅 라이브러리 성능 비교**
> - 비동기 로깅  
>   ![image](https://github.com/user-attachments/assets/86c8bbfa-73b9-434a-adbe-3ea68060a73b)
> - 동기 로깅  
>   ![image](https://github.com/user-attachments/assets/896b46a6-dfe4-43ce-b86a-03e2c4f43470)

---

### Log4j2 사용 권장

- 멀티스레드 환경에서 뛰어난 성능을 제공합니다.
- 메시지 로깅과 Java8 람다식 지원.
- 기본적으로 가비지 프리 모드로 실행됩니다.

---
